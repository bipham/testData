!function(){function e(e,n){function s(t){var a,n=u.list[t];if(n.equals(e.editable())||"true"==n.getAttribute("contenteditable")){var l=e.createRange();l.selectNodeContents(n),a=l.select()}else(a=e.getSelection()).selectElement(n);CKEDITOR.env.ie&&e.fire("selectionChange",{selection:a,path:new CKEDITOR.dom.elementPath(n)}),e.focus()}function o(){c&&c.setHtml(a),delete u.list}var c,i=e.ui.spaceId("path"),r=function(){return c||(c=CKEDITOR.document.getById(i)),c},u=e._.elementsPath,d=u.idBase;n.html+='<span id="'+i+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+i+'" class="cke_path" role="group" aria-labelledby="'+i+'_label">'+a+"</span>",e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)}),u.onClick=s;var m=CKEDITOR.tools.addFunction(s),h=CKEDITOR.tools.addFunction(function(t,a){var n,l=u.idBase;a=new CKEDITOR.dom.event(a);var o="rtl"==e.lang.dir;switch(a.getKeystroke()){case o?39:37:case 9:return(n=CKEDITOR.document.getById(l+(t+1)))||(n=CKEDITOR.document.getById(l+"0")),n.focus(),!1;case o?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(l+(t-1)))||(n=CKEDITOR.document.getById(l+(u.list.length-1))),n.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return s(t),!1}return!0});e.on("selectionChange",function(){for(var t,n=[],s=u.list=[],o=[],c=u.filters,i=!0,f=e.elementPath().elements,p=f.length;p--;){var b=f[p],g=0;t=b.data("cke-display-name")?b.data("cke-display-name"):b.data("cke-real-element-type")?b.data("cke-real-element-type"):b.getName(),(i=b.hasAttribute("contenteditable")?"true"==b.getAttribute("contenteditable"):i)||b.hasAttribute("contenteditable")||(g=1);for(var I=0;I<c.length;I++){var v=c[I](b,t);if(!1===v){g=1;break}t=v||t}g||(s.unshift(b),o.unshift(t))}for(var T=s.length,k=0;k<T;k++){t=o[k];var C=e.lang.elementspath.eleTitle.replace(/%1/,t),D=l.output({id:d+k,label:C,text:t,jsTitle:"javascript:void('"+t+"')",index:k,keyDownFn:h,clickFn:m});n.unshift(D)}var K=r();K.setHtml(n.join("")+a),e.fire("elementsPathUpdate",{space:K})}),e.on("readOnly",o),e.on("contentDomUnload",o),e.addCommand("elementsPathFocus",t.toolbarFocus),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){var t=e._.elementsPath.idBase,a=CKEDITOR.document.getById(t+"0");a&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},a='<span class="cke_path_empty">&nbsp;</span>',n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var l=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(a){"bottom"==a.data.space&&e(t,a.data)})}})}();