"use strict";!function(){function e(e){return{"aria-label":e,class:"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:e}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"pagebreak,pagebreak-rtl",hidpi:!0,onLoad:function(){var e=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+e+"}")},init:function(e){e.blockless||(e.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),e.ui.addButton&&e.ui.addButton("PageBreak",{label:e.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&e.on("contentDom",function(){e.document.on("click",function(a){var t=a.data.getTarget();t.is("div")&&t.hasClass("cke_pagebreak")&&e.getSelection().selectElement(t)})}))},afterInit:function(a){function t(t){CKEDITOR.tools.extend(t.attributes,e(a.lang.pagebreak.alt),!0),t.children.length=0}var r=a.dataProcessor,n=r&&r.dataFilter,l=r&&r.htmlFilter,i=/page-break-after\s*:\s*always/i,s=/display\s*:\s*none/i;l&&l.addRules({attributes:{class:function(e,a){var t=e.replace("cke_pagebreak","");if(t!=e){var r=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];a.children.length=0,a.add(r);var n=a.attributes;delete n["aria-label"],delete n.contenteditable,delete n.title}return t}}},{applyToAll:!0,priority:5}),n&&n.addRules({elements:{div:function(e){if(e.attributes["data-cke-pagebreak"])t(e);else if(i.test(e.attributes.style)){var a=e.children[0];a&&"span"==a.name&&s.test(a.attributes.style)&&t(e)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(a){var t=a.document.createElement("div",{attributes:e(a.lang.pagebreak.alt)});a.insertElement(t)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(e){var a=e.parent;return a&&"div"==a.name&&a.styles&&a.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}}();