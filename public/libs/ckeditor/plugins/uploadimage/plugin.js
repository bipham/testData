"use strict";!function(){CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(a){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var e=CKEDITOR.fileTools,i=e.getUploadUrl(a.config,"image");i?(e.addUploadWidget(a,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:i,fileToElement:function(){var a=new CKEDITOR.dom.element("img");return a.setAttribute("src",t),a},parts:{img:"img"},onUploading:function(t){this.parts.img.setAttribute("src",t.data)},onUploaded:function(t){var a=this.parts.img.$,e=t.responseData.width||a.naturalWidth,i=t.responseData.height||a.naturalHeight;this.replaceWith('<img src="'+t.url+'" width="'+e+'" height="'+i+'">')}}),a.on("paste",function(t){if(t.data.dataValue.match(/<img[\s\S]+data:/i)){var d,o,n,r=t.data,l=document.implementation.createHTMLDocument(""),u=new CKEDITOR.dom.element(l.body);for(u.data("cke-editable",1),u.appendHtml(r.dataValue),d=u.find("img"),n=0;n<d.count();n++){var p=(o=d.getItem(n)).getAttribute("src")&&"data:"==o.getAttribute("src").substring(0,5),g=null===o.data("cke-realelement");if(p&&g&&!o.data("cke-upload-id")&&!o.isReadOnly(1)){var s=a.uploadRepository.create(o.getAttribute("src"));s.upload(i),e.markElement(o,"uploadimage",s.id),e.bindNotifications(a,s)}}r.dataValue=u.getHtml()}})):CKEDITOR.error("uploadimage-config")}}});var t="data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="}();