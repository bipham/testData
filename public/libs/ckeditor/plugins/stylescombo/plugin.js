!function(){"use strict";CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",init:function(e){var t=e.config,i=e.lang.stylescombo,n={},l=[],a=[];e.on("stylesSet",function(i){var s=i.data.styles;if(s){for(var r,o,c,h=0,u=s.length;h<u;h++){var p=s[h];e.blockless&&p.element in CKEDITOR.dtd.$block||"string"==typeof p.type&&!CKEDITOR.style.customHandlers[p.type]||(o=p.name,r=new CKEDITOR.style(p),e.filter.customConfig&&!e.filter.check(r)||(r._name=o,r._.enterMode=t.enterMode,r._.type=c=r.assignedTo||r.type,r._.weight=h+1e3*(c==CKEDITOR.STYLE_OBJECT?1:c==CKEDITOR.STYLE_BLOCK?2:3),n[o]=r,l.push(r),a.push(r)))}l.sort(function(e,t){return e._.weight-t._.weight})}}),e.ui.addRichCombo("Styles",{label:i.label,title:i.panelTitle,toolbar:"styles,10",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":i.panelTitle}},init:function(){var e,t,n,a,s,r;for(s=0,r=l.length;s<r;s++)t=(e=l[s])._name,(a=e._.type)!=n&&(this.startGroup(i["panelTitle"+String(a)]),n=a),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot");var i=n[t],l=e.elementPath();i.group&&i.removeStylesFromSameGroup(e)?e.applyStyle(i):e[i.checkActive(l,e)?"removeStyle":"applyStyle"](i),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",function(t){for(var i,l=this.getValue(),a=t.data.path.elements,s=0,r=a.length;s<r;s++){i=a[s];for(var o in n)if(n[o].checkElementRemovable(i,!0,e))return void(o!=l&&this.setValue(o))}this.setValue("")},this)},onOpen:function(){var t=e.getSelection().getSelectedElement(),l=e.elementPath(t),a=[0,0,0,0];this.showAll(),this.unmarkAll();for(var s in n){var r=n[s],o=r._.type;r.checkApplicable(l,e,e.activeFilter)?a[o]++:this.hideItem(s),r.checkActive(l,e)&&this.mark(s)}a[CKEDITOR.STYLE_BLOCK]||this.hideGroup(i["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),a[CKEDITOR.STYLE_INLINE]||this.hideGroup(i["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),a[CKEDITOR.STYLE_OBJECT]||this.hideGroup(i["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=e.elementPath();if(t){for(var i in n)if(n[i].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){n={},l=[]}})}})}();