"use strict";CKEDITOR.plugins.add("filereader",{requires:"uploadwidget",init:function(e){var t=CKEDITOR.fileTools;t.addUploadWidget(e,"filereader",{onLoaded:function(t){var a=t.data;a&&a.indexOf(",")>=0&&a.indexOf(",")<a.length-1?this.replaceWith(atob(t.data.split(",")[1])):e.widgets.del(this)}}),e.on("paste",function(a){var i,d,l=a.data,n=l.dataTransfer,r=n.getFilesCount();if(!l.dataValue&&r)for(d=0;d<r;d++)if(i=n.getFile(d),t.isTypeSupported(i,/text\/(plain|html)/)){var o=new CKEDITOR.dom.element("span"),s=e.uploadRepository.create(i);o.setText("..."),s.load(),t.markElement(o,"filereader",s.id),t.bindNotifications(e,s),l.dataValue+=o.getOuterHtml()}})}});