!function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],i=["style","className"],s=0;s<i.length;s++){var n=i[s],o=e.$.elements.namedItem(n);if(o){var a=new CKEDITOR.dom.element(o);t.push([a,a.nextSibling]),a.remove()}}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&t.length>0)for(var i=t.length-1;i>=0;i--){var s=t[i][0],n=t[i][1];n?s.insertBefore(n):s.appendTo(e)}}function i(i,s){var n=e(i),o={},a=i.$;return s||(o.class=a.className||"",a.className=""),o.inline=a.style.cssText||"",s||(a.style.cssText="position: static; overflow: visible"),t(n),o}function s(i,s){var n=e(i),o=i.$;"class"in s&&(o.className=s.class),"inline"in s&&(o.style.cssText=s.inline),t(n)}function n(e){if(!e.editable().isInline()){var t=CKEDITOR.instances;for(var i in t){var s=t[i];if("wysiwyg"==s.mode&&!s.readOnly){var n=s.document.getBody();n.setAttribute("contentEditable",!1),n.setAttribute("contentEditable",!0)}}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"maximize",hidpi:!0,init:function(e){function t(){var t=c.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o,a,l,r=e.lang,m=CKEDITOR.document,c=m.getWindow(),d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var u=e.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),f=e.ui.space("contents");if("wysiwyg"==e.mode){var T=e.getSelection();o=T&&T.getRanges(),a=c.getScrollPosition()}else{var E=e.editable().$;o=!CKEDITOR.env.ie&&[E.selectionStart,E.selectionEnd],a=[E.scrollLeft,E.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){c.on("resize",t),l=c.getScrollPosition();for(var g=e.container;g=g.getParent();)g.setCustomData("maximize_saved_styles",i(g)),g.setStyle("z-index",e.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",i(f,!0)),u.setCustomData("maximize_saved_styles",i(u,!0));var v={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0};m.getDocumentElement().setStyles(v),!CKEDITOR.env.gecko&&m.getDocumentElement().setStyle("position","fixed"),!(CKEDITOR.env.gecko&&CKEDITOR.env.quirks)&&m.getBody().setStyles(v),CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0),u.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),u.$.offsetLeft,u.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),u.addClass("cke_maximized"),t();var D=u.getDocumentPosition();u.setStyles({left:-1*D.x+"px",top:-1*D.y+"px"}),CKEDITOR.env.gecko&&n(e)}else if(this.state==CKEDITOR.TRISTATE_ON){c.removeListener("resize",t);for(var I=[f,u],y=0;y<I.length;y++)s(I[y],I[y].getCustomData("maximize_saved_styles")),I[y].removeCustomData("maximize_saved_styles");for(g=e.container;g=g.getParent();)s(g,g.getCustomData("maximize_saved_styles")),g.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(l.x,l.y)},0):c.$.scrollTo(l.x,l.y),u.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(u.setStyle("display","inline"),setTimeout(function(){u.setStyle("display","block")},0)),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:f.$.offsetHeight,outerWidth:e.container.$.offsetWidth})}this.toggleState();var x=this.uiItems[0];if(x){var C=this.state==CKEDITOR.TRISTATE_OFF?r.maximize.maximize:r.maximize.minimize,O=CKEDITOR.document.getById(x._.id);O.getChild(1).setHtml(C),O.setAttribute("title",C),O.setAttribute("href",'javascript:void("'+C+'");')}if("wysiwyg"==e.mode)if(o){CKEDITOR.env.gecko&&n(e),e.getSelection().selectRanges(o);var h=e.getSelection().getStartElement();h&&h.scrollIntoView(!0)}else c.$.scrollTo(a.x,a.y);else o&&(E.selectionStart=o[0],E.selectionEnd=o[1]),E.scrollLeft=a[0],E.scrollTop=a[1];o=a=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{label:r.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}();