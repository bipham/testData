CKFinder.define(["underscore","backbone","marionette","doT"],function(e,t,a,s){"use strict";return{init:function(e){var n=new t.Model({message:""}),r=new a.ItemView({tagName:"p",template:s.template("{{= it.message }}"),model:n,modelEvents:{change:"render"}});e.on("page:create:Main",function(){e.request("statusBar:create",{name:"MyStatusBar",page:"Main",label:"My Status Bar"}),e.request("statusBar:addRegion",{id:"my-status-bar-region",name:"MyStatusBar"}),e.request("statusBar:showView",{region:"my-status-bar-region",name:"MyStatusBar",view:r}),e.on("files:selected",function(e){var t=e.data.files;if(t.length)1===t.length?n.set("message","Selected: "+t.at(0).get("name")):n.set("message","Selected "+t.length+" files");else{var a=e.finder.request("folder:getActive"),s=e.finder.request("files:getCurrent").length;n.set("message",'Folder "'+a.get("name")+'" contains '+s+" file(s)")}}),e.on("folder:getFiles:after",function(e){var t=e.finder.request("files:getCurrent").length;n.set("message",'Folder "'+e.data.folder.get("name")+'" contains '+t+" file(s)")})}),this.addCss("#my-status-bar-region {padding: 0 1em;font-size:0.8em;font-weight:normal}")}}});